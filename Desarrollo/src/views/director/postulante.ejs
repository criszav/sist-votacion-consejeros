<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/register.css">
    <title>Nuevo Postulante</title>
</head>
<header>
    <div class="logoimg">
        <img src="https://www.duoc.cl/wp-content/themes/wordpress-duoc-cl/images/logo-duoc.svg" width="200" height="50">
    </div>
    <a href="/logout"><input type="button" value="Cerrar Sesión" class="btn-logout"></a>
</header>

<body>
    <div class="contenido">
        <div class="wrapper">
            <nav class="sidebar">
                <ul>
                    <li>
                        <a href="/director/crear-votacion" class="">
                            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                    fill="currentColor" class="bi bi-file-earmark-plus-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM8.5 7v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 1 0z" />
                                </svg></span>
                            <span class="item">Crear Votación</span>
                        </a>
                    </li>
                    <li>
                        <a href="/director/postulaciones" class="active">
                            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                    fill="currentColor" class="bi bi-person-plus-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                                    <path fill-rule="evenodd"
                                        d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z" />
                                </svg></span>
                            <span class="item">Postulantes a consejero</span>
                        </a>
                    </li>
                    <li>
                        <a href="/director/consejeros" class="">
                            <span class="icon"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                    fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                                </svg></span>
                            <span class="item">Candidatos a consejero</span>
                        </a>
                    </li>
                    <li>
                        <a href="/director/votaciones" class="">
                            <span class="icon"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                    fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                                </svg></span>
                            <span class="item">Votaciones</span>
                        </a>
                    </li>
                    <!-- <li>
                        <a href="/director/seguimiento" class="">
                            <span class="icon"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                    fill="currentColor" class="bi bi-clipboard-data-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z" />
                                    <path
                                        d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1ZM10 8a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V8Zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1Zm4-3a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z" />
                                </svg></span>
                            <span class="item">Seguimiento</span>
                        </a>
                    </li> -->
                    <li>
                        <a href="/director/fin-votacion" class="">
                            <span class="icon"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                    fill="currentColor" class="bi bi-clipboard-data-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z" />
                                    <path
                                        d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1ZM10 8a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V8Zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1Zm4-3a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z" />
                                </svg></span>
                            <span class="item">Finalizar Votación</span>
                        </a>
                    </li>
                    <!-- <li>
                        <a href="/director/consejeros-electos" class="">
                            <span class="icon"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                fill="currentColor" class="bi bi-person-fill-check" viewBox="0 0 16 16">
                                <path
                                    d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                <path
                                    d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z" />
                            </svg></span>
                            <span class="item">Consejeros Electos</span>
                        </a>
                    </li> -->
                </ul>
            </nav>
        </div>


        <div class="container">

            <h2>Postulación Consejeros</h2>


            <% if (!votacionPostulante) { %>

                <br>
                <div class="notificacion-container">
                    <h2>¡Primero debe crear una votación para gestionar las postulaciones de los alumnos!</h2>
                    <p>Para gestionar a los postulantes primero debe crear una votación por carrera a la cual agregar los posibles candidatos.</p>
                </div>

                <% } else { %>

            <br>
            <h2>Postulación</h2>
            <form id="form" action="/director/postulaciones/<%=consejero.id%>" method="POST">

                <input type="number" name="postulacion_aceptada" id="" value="1" hidden>
                <input value="<%=consejero.nombre%>" type="text" id="name" name="name" hidden>
                <input value="<%=consejero.apellido%>" type="text" id="last_name" name="last_name" hidden>
                <input value="<%=consejero.correo%>" type="text" name="correo" hidden>
                <input value="<%=votacionPostulante.id%>" type="text" name="votacion" hidden>

                <div class="form-group">
                    <label for="name">Nombre</label>
                    <input value="<%=consejero.nombre%>" type="text" id="name" name="name" disabled>
                </div>
                <div class="form-group">
                    <label for="last_name">Apellido</label>
                    <input value="<%=consejero.apellido%>" type="text" id="last_name" name="last_name" disabled>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input value="<%=consejero.correo%>" type="email" id="email" name="email" disabled>

                </div>
                <div class="form-group">
                    <label for="phone">Teléfono</label>
                    <input value="<%=consejero.telefono%>" type="tel" id="phone" name="phone" disabled>
                </div>

                <div class="form-group">
                    <label for="carrera">Carrera</label>
                    <input value="<%=consejero.carrera.carrera%>" type="text" id="carrera" name="carrera" disabled>
                </div>

                <div class="form-group">
                    <label for="jornada">Jornada</label>
                    <input value="<%=consejero.jornada.jornada%>" type="text" id="jornada" name="jornada" disabled>
                </div>

                <div class="form-group">
                    <label for="motivo">Motivación del postulante</label>
                    <textarea name="descripcion" cols="40" rows="5" placeholder="Quiero ser un puente de ayuda entre los estudiantes y el Director de carrera..." required
                        disabled><%=consejero.motivacion%></textarea>
                </div>

                <div class="form-group">
                    <label for="jornada">Votación </label>
                    <input value="<%= votacionPostulante.nombreVotacion %>" type="text" name="votacion" disabled>
                </div>

                <!-- <div class="form-group">
                    <label for="votacion">Asignar Votación</label>
                    <select id="select-votacion" class="select-votacion" name="votacion" required>
                        <option value="" disabled selected>Votaciones</option>
                        <% for(votacion of votaciones) { %>
                            <option value="<%= votacion.id %>">
                                <%= votacion.nombreVotacion %>
                            </option>
                            <% } %>
                    </select>
                </div> -->


                <div class="conBtn">
                    <button class="btnAceptar" onclick="confirmar(event)" type="submit">Aceptar</button>
                </div>
            </form>
            <div class="conBtn">
                <form id="formRechazar" action="/director/postulaciones/<%=consejero.id%>?_method=DELETE" method="POST">
                    <input name="correo" type="text" value="<%=consejero.correo%>" hidden>
                    <input name="name" type="text" value="<%=consejero.nombre%>" hidden>
                    <input name="last_name" type="text" value="<%=consejero.apellido%>" hidden>
                    <a href="#"><input type="submit" onclick="rechazar(event)" value="Rechazar"
                            class="btn-eliminar"></a>
                </form>
            </div>

        <% } %>

        </div>

    </div>

    <script src="/js/script.js"></script>

    <script>
        function confirmar(event) {
            // Detenemos el envio del formulario.
            event.preventDefault();
            // Mostramos la alerta con las opciones "Confirmar" y "Rechazar".
            if (confirm("¿Estás seguro de Aceptar esta Postulación?")) {
                // Si se selecciona "Confirmar", enviamos el formulario.
                document.getElementById("form").submit();
            } else {
                // Si se selecciona "Rechazar", no hacemos nada.
            }
        }

        function rechazar(event) {
            // Detenemos el envio del formulario.
            event.preventDefault();
            // Mostramos la alerta con las opciones "Confirmar" y "Rechazar".
            if (confirm("¿Estas seguro de Rechazar esta Postulación?")) {
                // Si se selecciona "Confirmar", enviamos el formulario.
                document.getElementById("formRechazar").submit();
            } else {
                // Si se selecciona "Rechazar", no hacemos nada.
            }
        }
    </script>

</body>

<footer>

</footer>

</html>